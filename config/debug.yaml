
#_meta.script_name: test-compress

##_meta.script_name: test-line-compress
##parents: [hybrid, m/ae, a/conv, d/mnist]
##load: mnist_vae1_e-conv_d-conv_210910-135535
#
##_meta.script_name: test-estimator
##_meta.script_name: test-compression
#
#cat: sim
#
#_meta.script_name: eval-tasks
#parents: [tasks/interpolation, hybrid, m/ae, a/conv, d/3ds]
##load: 3ds_vae1_d-conv_s3_210626-030352
#
##din: [3,64,64]
##dout: [3,64,64]
#
##dataset.mode: full
##
#
##num-train: 500
##num-eval: 100
#
##import matplotlib.pyplot as plt; from torch.nn.functional import normalize; plt.plot(normalize(results['distances'],2,0)); plt.plot(normalize(results['trues'],2,0));plt.show()
#
#
##true-label-index: 4
##
##auto-anomaly-class: 0
#
#n_samples: 128
#batch_size: 16
#
#num_steps: 5
#
##tasks.interpolation:
##  encoder: None
##  decoder: None
#
#
##model._load-ckpt: 3ds_vae1_d-conv_s3_210626-030352
#
#
#
##n_samples: 5
##batch_size: 5
#
##autosample: best
#
#
##  use-distribution: False

################


#

#cat: real
#
#dataset:
#  _dataset_mod:
#    encoded: 3
#    subset: 2
##    shuffled: 1
#
##  name: cifar10
#
#  num: 400
##  split: None
#  split:
#    val: 0.25
#
#  use-mechanisms: True
#
#  progress-bar: <>pbar
#
##  wrappers:
##    - ident: subset
##      kwargs.num: 100
#
#  supervised: True
#
#model:
##  din: [3, 128, 128]
#  din: [3, 64, 64]
##  din: [3, 32, 32]
#
#  dout: <>din






####################################

#_meta.script_name: load-data
#
#parents: [d/celeba]
#supervised: True
#model: None
#dataset._dataset_mod.encoded: 1

#slim: True
#
#device: cuda
#
#model:
#  _type: model
#  load: mnist_ae_e-conv_d-s6_210818-091603
#
#_dataset_mod.encoded: 1
#name: mnist
#labeled: True
#shuffle: False
#seed: 10

#model:
#  _type: model
#  _model_type: gbt-classifier
#  _model_mod:
#    periodized: 1


####################################

_meta.script_name: train
#_meta.script_name: eval

#budget: 10
#dataset.batch_size: 64

#parents: [hybrid, a/e/conv12, a/d/strc/2, m/vae, d/3ds]
#parents: [hybrid, a/conv12, m/vae, d/3ds]
parents: [hybrid, a/conv, m/fvae, d/mnist]
#parents: [demo]

cat: toy

reg-wt: 4

#parents: [hybrid, a/e/conv12, a/d/strc/12, m/ae, d/scm]
#budget: 10
#dataset.net: None

#soft-constraint-transform: True

#seed: 1000
#load: scm_ae_e-c12_d-s12_210210-044938
#parents: [eval/scm]
#run-name: scm_ae_e-c12_d-s12_210210-044938
#run-name: sim_vae1_e-c12_d-c12_210126-035851
#force-run: True
#
#figure_dir: 'C:\Users\anwan\OneDrive\Khan\research\learn_rep\figures\icml\scm'
#saveroot: C:\Users\anwan\Documents\workspace\sae\trained_nets


#parents: [ coord, nosplit, hybrid, a/e/conv12, a/d/strc/12, m/vae, d/3ds]
#parents: [ hybrid, a/e/conv12, a/d/strc/6, m/ae, d/3ds ]
#parents: [ hybrid, a/ladder/12, m/vae, d/mpi ]
#parents: [ hybrid, a/e/conv12, a/d/strc/2, m/vae, d/3ds ]
#parents: [ hybrid, a/conv12, m/wae, d/3ds ]

#parents: [ hybrid, a/e/conv16, a/d/strc/16, m/vae, d/celeba ]

#run-name: 3ds_ae0_e-c12_d-s4_nosplit_210125-045440
#run-name: toy_ae_e-c12_d-s12_mish-seed2_210126-122537
#path: 3ds_ae0_e-c12_d-s4_nosplit_210125-045440
#path: real_vae1_e-l2_d-l2_210127-231833
#

##override.mode: test
#mode: test
#mode: val
#ident: eval2
#ident: final-test2
#evaluation: None
#evaluation.step-limit: 10

#model.nonlin: mish
#model.norm: None
#model.residual: True
##reg-wt: 4
#cat: toy

#latent-dim: 24

#dataset.name: random-scm
#dataset.device: cuda

#path: test-pycharm_210123-231915
#
#override:
#  eval:
#    mode: test
#    ident: final4
#
#  evaluation: None

#reg-wt: 16

#model.encoder.layers.0._type: coord-conv-layer

#budget: 1000
#viz.freq: 5
#validation.freq: 5

#evaluation: None
#validation: None

#eval.mode: test


#residual: yes

#reg-wt: 10000


#device: cuda

#model.optim.lr: 0.001


name: test-pycharm
inline: True
#device: cuda:1

#fid.dim: 2048
fid.dim: 64
fid.n_samples: 1000
fid.batch_size: 16

#dataset:
#  device: cpu
#  category: real

pbar._type: progress-bar

print_dims: True



#parents: [ a/conv, m/vae, d/3ds ]
#parents: [ a/conv, m/vae, d/3ds ]
#parents: [ a/conv, m/wae, d/3ds ]
#parents: [hybrid, a/dislib, m/vae, d/3ds]
#parents: [scheduler, hybrid, a/d/new/12, a/e/conv, m/ae, d/3ds]

#parents: [hybrid, a/lconv, m/ae, d/mpi]
#parents: [ nosplit, hybrid, a/large/e/lconv, a/large/d/old16, m/vae, d/celeba ]
#parents: [a/ladder/12, m/vae, d/3ds]

#parents: [a/large/d/old16, a/large/e/conv, m/ae, d/celeba]
